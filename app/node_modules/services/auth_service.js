import api from './api';

module.exports = {
  loginUser: function(userObject, callback){
    this.post('/api/sessions', userObject, callback);
  },

  registerUser: function(userObject, callback){
    this.post('/api/users', userObject, callback)
  },

  post: function(url, object, callback){
    api.post(url, JSON.stringify(object), {
      headers: {
        'Accept': 'application/json',
        'Content-Type': 'application/json',
      }
    })
    .then(response => {
      if (response.status == 200)
        callback(response.data, 200)
      else
        callback(response.data)
    })
    .catch(e => callback(e))
  }
}